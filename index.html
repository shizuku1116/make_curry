<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title></title>
  <style>
    #ingredients{
  width:700px;
  height:300px;
  border:solid 1px #ff6a00;
}
#recipe{
  width:700px;
  height:300px;
  border:solid 1px #ff0000;
}
  </style>

  <script type="text/javascript">
    const curry=["apple","potato","onion","meat"]
    const party=["cake","pizza","juice"];
    const breakfast=["bread","milk"];

    const menu=[curry,party,breakfast]
    const jmenu=["カレーをつくろう！","パーティーをはじめよう！","あさごはんをたべよう！"]
    function uketori(){
		var url = new URL(window.location.href);
		var id = url.searchParams.get("id").match(/\d/g);
        var text="";
        var text2=""

        for(var n=0;n<menu[id[0]].length;n++){
            text+="<img id=\""+menu[id[0]][n]+"\" src=\"./img/"+menu[id[0]][n]+id[n+1]+".jpg\" height=\"80%\">\n";
            text2+="<img id=\""+menu[id[0]][n]+"\" src=\"./img/"+menu[id[0]][n]+"0.jpg\" onclick=\"imgChange(this)\" height=\"80%\">\n";
        }

        var recipe=document.getElementById("recipe");
        var ingredients=document.getElementById("ingredients");
        recipe.insertAdjacentHTML("beforebegin",jmenu[id[0]]);
        recipe.insertAdjacentHTML("beforeend",text);
        ingredients.insertAdjacentHTML("afterbegin",text2);
    }
    
    function imgChange(tag){
      var material=tag.id;
      var i=Number(tag.src.match(/\d+(?=\.jpg)/));
      i++;
      tag.src="./img/"+material+i%4+".jpg";
    }
  </script>

</head>
<body onload="uketori()">

    <div id="recipe">
    </div><br>
    
    <div id="ingredients">
    </div>

    <input type="submit" value="つくる！">
</body>
</html>
